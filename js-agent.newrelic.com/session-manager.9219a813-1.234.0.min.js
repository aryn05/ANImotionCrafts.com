"use strict";
(window.webpackChunkNRBA = window.webpackChunkNRBA || []).push([
    [242], {
        3289: (t, e, s) => {
            s.r(e), s.d(e, {
                setupAgentSession: () => h
            });
            var n = s(880),
                o = s(4329),
                r = s(3752),
                i = s(4045),
                c = s(2374),
                a = s(7286);
            class u {
                get(t) {
                    try {
                        return localStorage.getItem(t) || void 0
                    } catch (t) {
                        return ""
                    }
                }
                set(t, e) {
                    try {
                        return null == e ? this.remove(t) : localStorage.setItem(t, e)
                    } catch (t) {
                        return
                    }
                }
                remove(t) {
                    try {
                        localStorage.removeItem(t)
                    } catch (t) {
                        return
                    }
                }
            }
            class m {
                constructor(t) {
                    this.domain = t
                }
                get(t) {
                    try {
                        var e = document.cookie.match(new RegExp("(^| )" + t + "=([^;]+)"));
                        if (e) return e[2]
                    } catch (t) {
                        return ""
                    }
                }
                set(t, e) {
                    try {
                        const s = "".concat(t, "=").concat(e, "; Domain=").concat(domain, "; Path=/");
                        document.cookie = s
                    } catch (t) {
                        return
                    }
                }
                remove(t) {
                    try {
                        return document.cookie = "".concat(t, "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; Domain=").concat(domain, "; Path=/")
                    } catch (t) {
                        return
                    }
                }
            }
            let d = 0;

            function h(t) {
                const e = (0, n.OP)(t);
                if (d++) return e.session;
                const s = r.ee.get(t);
                let h;
                const l = !0 === (0, n.Mt)(t, "privacy.cookies_enabled");
                if (l && c.il && (h = (0, n.Mt)(t, "session.domain") ? new m((0, n.Mt)(t, "session.domain")) : new u), l && (e.session = new a.$({
                        agentIdentifier: t,
                        key: "SESSION",
                        storageAPI: h,
                        expiresMs: (0, n.Mt)(t, "session.expiresMs"),
                        inactiveMs: (0, n.Mt)(t, "session.inactiveMs")
                    })), c.il) {
                    const s = e.session.state.custom,
                        o = (0, n.C5)(t);
                    s && (0, n.CX)(t, { ...o,
                        jsAttributes: { ...o.jsAttributes,
                            ...s
                        }
                    })
                }
                return (0, i.X)("api-setCustomAttribute", ((t, s, n) => {
                    e.session.syncCustomAttribute(s, n)
                }), "session", s), (0, i.X)("api-setUserId", ((t, s, n) => {
                    e.session.syncCustomAttribute(s, n)
                }), "session", s), (0, o.L)(t, "session"), e.session
            }
        }
    }
]);